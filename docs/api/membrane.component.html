<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>membrane.component documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Membrane</span> <span class="project-version">0.9.7-beta</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>membrane</span></div></div></li><li class="depth-2 branch"><a href="membrane.analyze.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>analyze</span></div></a></li><li class="depth-2 branch"><a href="membrane.basic-components.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>basic-components</span></div></a></li><li class="depth-2 branch current"><a href="membrane.component.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>component</span></div></a></li><li class="depth-2 branch"><a href="membrane.customappmain.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>customappmain</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>example</span></div></div></li><li class="depth-3 branch"><a href="membrane.example.counter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>counter</span></div></a></li><li class="depth-3 branch"><a href="membrane.example.file-selector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>file-selector</span></div></a></li><li class="depth-3 branch"><a href="membrane.example.kitchen-sink.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kitchen-sink</span></div></a></li><li class="depth-3"><a href="membrane.example.todo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>todo</span></div></a></li><li class="depth-2 branch"><a href="membrane.skia.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>skia</span></div></a></li><li class="depth-2 branch"><a href="membrane.ui.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ui</span></div></a></li><li class="depth-2"><a href="membrane.webgl-macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webgl-macros</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="membrane.component.html#var-*root*"><div class="inner"><span>*root*</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-calculate-path"><div class="inner"><span>calculate-path</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-component-cache"><div class="inner"><span>component-cache</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-db-effects"><div class="inner"><span>db-effects</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-defeffect"><div class="inner"><span>defeffect</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-defui"><div class="inner"><span>defui</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-doall*"><div class="inner"><span>doall*</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effect-clipboard-copy"><div class="inner"><span>effect-clipboard-copy</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effect-clipboard-cut"><div class="inner"><span>effect-clipboard-cut</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effects"><div class="inner"><span>effects</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-fully-qualified"><div class="inner"><span>fully-qualified</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-make-top-level-ui"><div class="inner"><span>make-top-level-ui</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-path-.3Espec"><div class="inner"><span>path-&gt;spec</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-path-replace-macro"><div class="inner"><span>path-replace-macro</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-run-ui"><div class="inner"><span>run-ui</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-run-ui-sync"><div class="inner"><span>run-ui-sync</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-special-fns"><div class="inner"><span>special-fns</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-special-syms"><div class="inner"><span>special-syms</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-top-level-ui"><div class="inner"><span>top-level-ui</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">membrane.component</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*root*"><h3>*root*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-calculate-path"><h3>calculate-path</h3><div class="usage"><code>(calculate-path deps k)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-component-cache"><h3>component-cache</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-db-effects"><h3>db-effects</h3><div class="usage"><code>(db-effects atm)</code></div><div class="doc"><pre class="plaintext">Effects for updating state in an atom.

The effects are:

`:update` similar to `update` except instead of a keypath, takes a more generic path.
example: `[:update $path inc]`
`:set` sets the value given a $path
example: `[:set $path value]`
`:delete` deletes value at $path
example: `[:delete $path]`
</pre></div></div><div class="public anchor" id="var-defeffect"><h3>defeffect</h3><h4 class="type">macro</h4><div class="usage"><code>(defeffect type args &amp; body)</code></div><div class="doc"><pre class="plaintext">Define an effect.

  `defeffect` is a macro that does 3 things:
1) It registers a global effect handler of `type`. `type` should be a keyword and since it is registered globally, should be namespaced
2) It will define a var in the current namespace of `effect-*type*` where *type* is the name of the type keyword. This can be useful if you want to be able to use your effect functions in isolation
3) It will implicitly add an additional argument as the first parameter named `dispatch`

The arglist for `dispatch!` is `[type &amp; args]`. Calling `dispatch!` will invoke the effect of `type` with `args`.
The role of `dispatch!` is to allow effects to define themselves in terms of other effects. Effects should not be called directly because while the default for an application is to use all the globally defined effects, this can be overridden for testing, development, or otherwise.


  example:

  (defeffect ::increment-number [$num]
      (dispatch! :update $num inc))

  </pre></div></div><div class="public anchor" id="var-defui"><h3>defui</h3><h4 class="type">macro</h4><div class="usage"><code>(defui ui-name &amp; fdecl)</code></div><div class="doc"><pre class="plaintext">Define a component.

The arguments for a component must take the form (defui my-component [ &amp; {:keys [arg1 arg2 ...]}])

</pre></div></div><div class="public anchor" id="var-doall*"><h3>doall*</h3><div class="usage"><code>(doall* s)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-effect-clipboard-copy"><h3>effect-clipboard-copy</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-effect-clipboard-cut"><h3>effect-clipboard-cut</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-effects"><h3>effects</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-fully-qualified"><h3>fully-qualified</h3><div class="usage"><code>(fully-qualified sym)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-make-top-level-ui"><h3>make-top-level-ui</h3><div class="usage"><code>(make-top-level-ui ui-var state-atom handler)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-path-.3Espec"><h3>path-&gt;spec</h3><div class="usage"><code>(path-&gt;spec elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-path-replace-macro"><h3>path-replace-macro</h3><h4 class="type">macro</h4><div class="usage"><code>(path-replace-macro deps form)</code><code>(path-replace-macro form)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-run-ui"><h3>run-ui</h3><div class="usage"><code>(run-ui ui-var)</code><code>(run-ui ui-var initial-state)</code><code>(run-ui ui-var initial-state handler)</code><code>(run-ui ui-var initial-state handler options)</code></div><div class="doc"><pre class="plaintext">`ui-var` The var for a component
`initial-state` The initial state of the component to run or an atom that contains the initial state.
`handler` The effect handler for your UI. The `handler` will be called with all effects returned by the event handlers of your ui.

If `handler` is nil or an arity that doesn't specify `handler` is used, then a default handler using all of the globally defined effects from `defeffect` will be used. In addition to the globally defined effects the handler will provide 3 additional effects:

`:update` similar to `update` except instead of a keypath, takes a more generic path.
example: `[:update $path inc]`

`:set` sets the value given a $path
example: `[:set $path value]`

`:delete` deletes value at $path
example: `[:delete $path]`

return value: the state atom used by the ui.

The only difference between `run-ui` and `run-ui-sync` is that `run-ui-sync` will wait until the window is closed before returning.

`options` options is a map of options that get passed to the underlying graphics platform. see `membrane.skia/run` or `membrane.webgl/run` for more info.</pre></div></div><div class="public anchor" id="var-run-ui-sync"><h3>run-ui-sync</h3><div class="usage"><code>(run-ui-sync ui-var)</code><code>(run-ui-sync ui-var initial-state)</code><code>(run-ui-sync ui-var initial-state handler)</code><code>(run-ui-sync ui-var initial-state handler options)</code></div><div class="doc"><pre class="plaintext">`ui-var` The var for a component
`initial-state` The initial state of the component to run or an atom that contains the initial state.
`handler` The effect handler for your UI. The `handler` will be called with all effects returned by the event handlers of your ui.

If `handler` is nil or an arity that doesn't specify `handler` is used, then a default handler using all of the globally defined effects from `defeffect` will be used. In addition to the globally defined effects the handler will provide 3 additional effects:

`:update` similar to `update` except instead of a keypath, takes a more generic path.
example: `[:update $path inc]`

`:set` sets the value given a $path
example: `[:set $path value]`

`:delete` deletes value at $path
example: `[:delete $path]`

return value: the state atom used by the ui.

The only difference between `run-ui` and `run-ui-sync` is that `run-ui-sync` will wait until the window is closed before returning.

`options` options is a map of options that get passed to the underlying graphics platform. see `membrane.skia/run` or `membrane.webgl/run` for more info.</pre></div></div><div class="public anchor" id="var-special-fns"><h3>special-fns</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-special-syms"><h3>special-syms</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-top-level-ui"><h3>top-level-ui</h3><div class="usage"><code>(top-level-ui &amp; {:keys [extra state body arg-names defaults handler context]})</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>